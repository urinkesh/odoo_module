<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="product_discount_feature_product_price" name="product_discount_feature_product_price" inherit_id="website_sale.product_price">
        <xpath expr="//div[contains(@t-attf-class, 'product_price')]" position="replace">
            <div itemprop="offers" itemscope="itemscope" itemtype="http://schema.org/Offer" t-attf-class="product_price mt-2 mb-3 {{'d-none' if combination_info['prevent_zero_price_sale'] else 'd-inline-block'}}">
                <h3 class="css_editable_mode_hidden">
                    <span class="oe_price" style="white-space: nowrap;" t-esc="combination_info['price']" t-options="{'widget': 'monetary', 'display_currency': website.currency_id}"/>
                    <span itemprop="price" style="display:none;" t-esc="combination_info['price']"/>
                    <span itemprop="priceCurrency" style="display:none;" t-esc="website.currency_id.name"/>
                    <span t-attf-class="text-danger oe_default_price ms-1 h5 {{'' if combination_info['has_discounted_price'] and not combination_info['compare_list_price'] else 'd-none'}}" style="text-decoration: line-through; white-space: nowrap;" t-esc="combination_info['list_price']" t-options="{'widget': 'monetary', 'display_currency': website.currency_id}" itemprop="listPrice" />
                    <t t-if="is_view_active('website_sale.tax_indication')" t-call="website_sale.tax_indication"/>
                    <del t-if="combination_info['compare_list_price'] and (combination_info['compare_list_price'] &gt; combination_info['price'])">
                        <bdi dir="inherit">
                            <span t-esc="combination_info['compare_list_price']" t-options='{
                           "widget": "monetary",
                           "display_currency": website.currency_id,
                       }'/>
                        </bdi>
                    </del>
                </h3>
                <h3 class="css_non_editable_mode_hidden decimal_precision" t-att-data-precision="str(website.currency_id.decimal_places)">
                    <span t-esc="product.list_price" t-options='{
                       "widget": "monetary",
                       "display_currency": product.currency_id,
                }'/>
                    <t t-if="is_view_active('website_sale.tax_indication')" t-call="website_sale.tax_indication"/>
                    <del t-if="combination_info['compare_list_price'] and (combination_info['compare_list_price'] &gt; combination_info['price'])">
                        <bdi dir="inherit">
                            <span t-esc="combination_info['compare_list_price']" t-options='{
                            "widget": "monetary",
                            "display_currency": website.currency_id,
                        }'/>
                        </bdi>
                    </del>
                </h3>
            </div>
        </xpath>
    </template>

    <template id="product_discount_feature_cart_lines" name="product_discount_feature_cart_lines" inherit_id="website_sale.cart_lines">
        <xpath expr="//td[@name='price']/t[@t-if='line.discount']" position="after">
            <t t-if="not line.discount and line.product_id.product_tmpl_id.discount_percentage">
                <del t-attf-class="#{'text-danger mr8'}" style="white-space: nowrap;" t-esc="combination_info['list_price']" t-options="{'widget': 'monetary', 'display_currency': website_sale_order.currency_id}" />
            </t>
        </xpath>
    </template>

    <template id="product_discount_feature_cart_summary" name="product_discount_feature_cart_summary" inherit_id="website_sale.cart_summary">
        <xpath expr="//td[hasclass('text-center','td-price')]" position="inside">
            <t t-if="line.product_id.product_tmpl_id.discount_percentage">
                <del t-attf-class="#{'text-danger mr8'}" style="white-space: nowrap;" t-esc="line.product_id.product_tmpl_id._get_combination_info().get('list_price')" t-options="{'widget': 'monetary', 'display_currency': website_sale_order.currency_id}" />
            </t>
        </xpath>
    </template>

</odoo>
